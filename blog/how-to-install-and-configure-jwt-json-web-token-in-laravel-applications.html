<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="icon" type="image/png" href="/niyaz/favicon.png"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet"/><title>How to install and configure JWT (Json Web Token) in Laravel&amp;nbsp;Applications | Blog | Niyaz</title><meta name="keywords" content="How to install and configure JWT (Json Web Token) in Laravel&amp;nbsp;Applications"/><meta name="description" content="How to install and configure JWT (Json Web Token) in Laravel&amp;nbsp;Applications"/><meta name="next-head-count" content="6"/><link rel="preload" href="/niyaz/_next/static/css/3ed1eab606c125c09fe7.css" as="style"/><link rel="stylesheet" href="/niyaz/_next/static/css/3ed1eab606c125c09fe7.css"/><link rel="preload" href="/niyaz/_next/static/chunks/main-ec6f1b548a5c207fd946.js" as="script"/><link rel="preload" href="/niyaz/_next/static/chunks/webpack-ccf5ab034a524403276a.js" as="script"/><link rel="preload" href="/niyaz/_next/static/chunks/framework.085e84bea8b122ad7b41.js" as="script"/><link rel="preload" href="/niyaz/_next/static/chunks/682c571a523b1f552da445b2e05c927df41dc84e.9bf6778f51b271f9baac.js" as="script"/><link rel="preload" href="/niyaz/_next/static/chunks/99ce5ded03d7686e4bf70ff5f951df53c1ed333a.1d56a11eb08b9b553b17.js" as="script"/><link rel="preload" href="/niyaz/_next/static/chunks/pages/_app-b420f73cf4e97c2f0796.js" as="script"/><link rel="preload" href="/niyaz/_next/static/chunks/75fc9c18.34f1da525fc96d3281d7.js" as="script"/><link rel="preload" href="/niyaz/_next/static/chunks/d09f71c2771447e62661a7b2e7969c57ce47c1dd.40e0de61c108b1495845.js" as="script"/><link rel="preload" href="/niyaz/_next/static/chunks/pages/blog/%5Bslug%5D-614423cbab52a8b39602.js" as="script"/></head><body><div id="__next"><div class="flex flex-col h-screen justify-between"><header class="text-gray-700 body-font"><div class="container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center"><a class="flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-10 h-10 text-white p-2 bg-indigo-500 rounded-full" viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path></svg><span class="ml-3 text-xl">Niyaz</span></a><nav class="md:mr-auto md:ml-4 md:py-1 md:pl-4 md:border-l md:border-gray-400	flex flex-wrap items-center text-base justify-center"><a class="mr-5 hover:text-gray-900" href="/niyaz">Home</a><a class="mr-5 hover:text-gray-900" href="/niyaz/about">About</a><a class="mr-5 hover:text-gray-900" href="/niyaz/works">Works</a><a class="mr-5 hover:text-gray-900" href="/niyaz/blog">Blog</a><a class="mr-5 hover:text-gray-900" href="/niyaz/contact">Contact</a></nav></div></header><div class="px-5 py-20"><section class="text-gray-700 body-font overflow-hidden"><div class="container px-6 mx-auto"><section class="text-gray-700 body-font overflow-hidden"><div class="container px-5 mx-auto"><div class="flex flex-wrap -m-12"><div class="p-12 flex flex-col items-start"><span class="inline-block py-1 px-3 rounded bg-indigo-100 text-indigo-500 text-sm font-medium tracking-widest">CATEGORY</span><h2 class="sm:text-3xl text-2xl title-font font-medium text-gray-900 mt-4 mb-4">How to install and configure JWT (Json Web Token) in Laravel&amp;nbsp;Applications</h2><div class="leading-relaxed mb-8"><p><strong>JWT installation &amp; Settings</strong></p><p>Before we get into this JSON Web Token tutorial, what exactly is a JWT?<br/>In modern web trends, Popularity of single page applications, mobile applications, and RESTful API services, We are no longer spending much time building markup, instead we are building APIs that our front-end applications consume.<br/>Back-end is more about business logic and data, while presentation logic is moved exclusively to the front-end or mobile applications. These changes have led to new ways of implementing authentication in modern applications.</p><p><strong>What is a JSON Web Token?</strong></p><p>A JSON Web Token is used to send information that can be verified and trusted by means of a digital signature. It comprises a compact and URL-safe JSON object, which is cryptographically signed to verify its authenticity, and which can also be encrypted if the payload contains sensitive information.<br/>Because of its compact structure, JWT is usually used in HTTP Authorization headers or URL query parameters.</p><p><strong>How to use JWT authentication approach in Laravel applications?</strong></p><p>JWT (Json Web token) to make token based authentication system in Laravel. if we implement everything of jwt authentication system, it’s hard and takes long time. so we decided to use “tymon/jwt-auth” package to integarte quickly to develop jwt authentication system.</p><p>tymon/jwt-auth: <a href="https://github.com/tymondesigns/jwt-auth">https://github.com/tymondesigns/jwt-auth</a><br/>tymon/jwt-auth document: <a href="https://jwt-auth.readthedocs.io/en/develop/">https://jwt-auth.readthedocs.io/en/develop/</a></p><pre class="wp-block-code"><code>composer require tymon/jwt-auth</code></pre><p><a href="https://jwt-auth.readthedocs.io/en/develop/laravel-installation/" rel="nofollow">https://jwt-auth.readthedocs.io/en/develop/laravel-installation/</a></p><p><strong>Publish the config</strong></p><pre class="wp-block-code"><code>php artisan vendor:publish --provider=&quot;Tymon\JWTAuth\Providers\LaravelServiceProvider&quot;</code></pre><p>You should now have a config/jwt.php file that allows you to configure the basics of this package.</p><p> </p><p><strong>Generate secret key</strong></p><p>I have included a helper command to generate a key for you:</p><pre class="wp-block-code"><code>php artisan jwt:secret
</code></pre><p><strong>Update your User model</strong></p><pre class="wp-block-code"><code>&lt;?php

namespace App;

use Tymon\JWTAuth\Contracts\JWTSubject;
use Illuminate\Notifications\Notifiable;
use Illuminate\Foundation\Auth\User as Authenticatable;

class User extends Authenticatable implements JWTSubject
{
    use Notifiable;

    // Rest omitted for brevity

    /**
     * Get the identifier that will be stored in the subject claim of the JWT.
     *
     * @return mixed
     */
    public function getJWTIdentifier()
    {
        return $this-&gt;getKey();
    }

    /**
     * Return a key value array, containing any custom claims to be added to the JWT.
     *
     * @return array
     */
    public function getJWTCustomClaims()
    {
        return [];
    }
}</code></pre><p><strong>Configure Auth guard</strong><br/>inside the config/auth.php file, update the following details</p><pre class="wp-block-code"><code>&#x27;defaults&#x27; =&gt; [
    &#x27;guard&#x27; =&gt; &#x27;api&#x27;,
    &#x27;passwords&#x27; =&gt; &#x27;users&#x27;,
],

...

&#x27;guards&#x27; =&gt; [
    &#x27;api&#x27; =&gt; [
        &#x27;driver&#x27; =&gt; &#x27;jwt&#x27;,
        &#x27;provider&#x27; =&gt; &#x27;users&#x27;,
    ],
],
</code></pre><p><strong>Add authentication routes</strong></p><p>First let’s add some routes in routes/api.php as follows:</p><pre class="wp-block-code"><code>// Jwt Authentication
Route::post(&#x27;register&#x27;, [JwtAuthController::class, &#x27;register&#x27;])-&gt;name(&#x27;api.jwt.register&#x27;);
Route::post(&#x27;login&#x27;, [JwtAuthController::class, &#x27;login&#x27;])-&gt;name(&#x27;api.jwt.login&#x27;);

Route::group([&#x27;middleware&#x27; =&gt; &#x27;auth:api&#x27;], function(){
    Route::get(&#x27;user&#x27;, [JwtAuthController::class, &#x27;me&#x27;])-&gt;name(&#x27;api.jwt.user&#x27;);
    Route::get(&#x27;refresh&#x27;, [JwtAuthController::class, &#x27;refresh&#x27;])-&gt;name(&#x27;api.jwt.refresh&#x27;);
    Route::get(&#x27;logout&#x27;, [JwtAuthController::class, &#x27;logout&#x27;])-&gt;name(&#x27;api.jwt.logout&#x27;);
});
</code></pre><p>Create the JwtAuthController:</p><pre class="wp-block-code"><code>php artisan make:controller JwtAuthController
</code></pre><p>Then add the following:</p><pre class="wp-block-code"><code>

namespace App\Http\Controllers\Auth;

use App\Models\User;
use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use Illuminate\Support\Facades\Auth;

class JwtAuthController extends Controller
{
    /**
     * Create a new AuthController instance.
     *
     * @return void
     */
    public function __construct()
    {
        $this-&gt;middleware(&#x27;auth:api&#x27;, [&#x27;except&#x27; =&gt; [&#x27;login&#x27;, &#x27;register&#x27;]]);
    }

    public function register(Request $request)
    {
        $validated = $request-&gt;validate([
            &#x27;name&#x27; =&gt; &#x27;required|string|max:100&#x27;,
            &#x27;email&#x27; =&gt; &#x27;required|email|max:255|unique:users&#x27;,
            &#x27;password&#x27; =&gt; &#x27;required|string|min:8|max:255|confirmed&#x27;,
            &#x27;password_confirmation&#x27; =&gt; &#x27;required|string|min:8|max:255&#x27;,
        ]);

        $user = new User;
        $user-&gt;fill($request-&gt;all());
        $user-&gt;password = bcrypt($request-&gt;password);
        $user-&gt;save();

        return response()-&gt;json([
            &#x27;status&#x27; =&gt; &#x27;success&#x27;,
            &#x27;data&#x27; =&gt; $user
        ], 200);
    }

    /**
     * Get a JWT via given credentials.
     *
     * @return \Illuminate\Http\JsonResponse
     */
    public function login()
    {
        $credentials = request([&#x27;email&#x27;, &#x27;password&#x27;]);

        if (!$token = Auth::attempt($credentials)) {
            return response()-&gt;json([&#x27;error&#x27; =&gt; &#x27;Unauthorized&#x27;], 401);
        }

        return $this-&gt;respondWithToken($token);
    }

    /**
     * Get the authenticated User.
     *
     * @return \Illuminate\Http\JsonResponse
     */
    public function me()
    {
        return response()-&gt;json(Auth::user());
    }

    /**
     * Log the user out (Invalidate the token).
     *
     * @return \Illuminate\Http\JsonResponse
     */
    public function logout()
    {
        Auth::logout();

        return response()-&gt;json([&#x27;message&#x27; =&gt; &#x27;Successfully logged out&#x27;]);
    }

    /**
     * Refresh a token.
     *
     * @return \Illuminate\Http\JsonResponse
     */
    public function refresh()
    {
        return $this-&gt;respondWithToken(Auth::refresh());
    }

    /**
     * Get the token array structure.
     *
     * @param  string $token
     *
     * @return \Illuminate\Http\JsonResponse
     */
    protected function respondWithToken($token)
    {
        return response()-&gt;json([
            &#x27;access_token&#x27; =&gt; $token,
            &#x27;token_type&#x27; =&gt; &#x27;bearer&#x27;,
            &#x27;expires_in&#x27; =&gt; Auth::factory()-&gt;getTTL() * 60
        ]);
    }
}</code></pre><p>You should now be able to POST to the login endpoint (e.g. <a href="http://example.dev/auth/login" rel="nofollow">http://example.dev/auth/login</a>) with some valid credentials and see a response like:</p><p> </p><pre class="wp-block-code"><code>{
    &quot;access_token&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ&quot;,
    &quot;token_type&quot;: &quot;bearer&quot;,
    &quot;expires_in&quot;: 3600
}</code></pre><p>This token can then be used to make authenticated requests to your application.</p></div><div class="flex items-center flex-wrap pb-4 mb-4 border-b-2 border-gray-200 mt-auto w-full"><a class="text-indigo-500 inline-flex items-center" href="/niyaz/blog"><svg class="w-4 h-4 mr-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5M12 19l-7-7 7-7"></path></svg> <!-- -->Go Back</a><span class="text-gray-600 mr-3 inline-flex items-center ml-auto leading-none text-sm pr-3 py-1 border-r-2 border-gray-300"><svg class="w-4 h-4 mr-1" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>1.2K</span><span class="text-gray-600 inline-flex items-center leading-none text-sm"><svg class="w-4 h-4 mr-1" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"></path></svg>6</span></div><a class="inline-flex items-center"><img alt="blog" src="/niyaz/niyaz.jpeg" class="w-12 h-12 rounded-full flex-shrink-0 object-cover object-center"/><span class="flex-grow flex flex-col pl-4"><span class="title-font font-medium text-gray-900">Niyaz Jamal</span><span class="text-gray-500 text-sm">Full Stack Software Engineer</span></span></a></div></div></div></section></div></section></div><footer class="text-gray-700 body-font"><div class="container px-5 py-8 mx-auto flex items-center sm:flex-row flex-col"><p class="text-sm text-gray-500 sm:mt-0 mt-4">© 2020 Niyaz —<a href="https://twitter.com/niyaz_dev" class="text-gray-600 ml-1" rel="noopener noreferrer" target="_blank">@niyaz_dev</a></p><span class="inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start"><a class="text-gray-500" href="https://www.facebook.com/niyaz.dev" target="_blank"><svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg></a><a class="ml-3 text-gray-500" href="https://twitter.com/niyaz_dev" target="_blank"><svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"></path></svg></a><a class="ml-3 text-gray-500" href="https://www.instagram.com/niyaz.dev/" target="_blank"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01"></path></svg></a><a class="ml-3 text-gray-500" href="https://www.linkedin.com/in/niyazahamed" target="_blank"><svg fill="currentColor" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="0" class="w-5 h-5" viewBox="0 0 24 24"><path stroke="none" d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"></path><circle cx="4" cy="4" r="2" stroke="none"></circle></svg></a></span></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":1175,"date":"2021-06-12T23:12:21","date_gmt":"2021-06-12T15:12:21","guid":{"rendered":"https://niyazjamal.wordpress.com/?p=1175"},"modified":"2021-06-15T09:44:00","modified_gmt":"2021-06-15T01:44:00","slug":"how-to-install-and-configure-jwt-json-web-token-in-laravel-applications","status":"publish","type":"post","link":"https://niyazjamal.wordpress.com/2021/06/12/how-to-install-and-configure-jwt-json-web-token-in-laravel-applications/","title":{"rendered":"How to install and configure JWT (Json Web Token) in Laravel\u0026nbsp;Applications"},"content":{"rendered":"\r\n\u003cp\u003e\u003cstrong\u003eJWT installation \u0026amp; Settings\u003c/strong\u003e\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cp\u003eBefore we get into this JSON Web Token tutorial, what exactly is a JWT?\u003cbr /\u003eIn modern web trends, Popularity of single page applications, mobile applications, and RESTful API services, We are no longer spending much time building markup, instead we are building APIs that our front-end applications consume.\u003cbr /\u003eBack-end is more about business logic and data, while presentation logic is moved exclusively to the front-end or mobile applications. These changes have led to new ways of implementing authentication in modern applications.\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cp\u003e\u003cstrong\u003eWhat is a JSON Web Token?\u003c/strong\u003e\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cp\u003eA JSON Web Token is used to send information that can be verified and trusted by means of a digital signature. It comprises a compact and URL-safe JSON object, which is cryptographically signed to verify its authenticity, and which can also be encrypted if the payload contains sensitive information.\u003cbr /\u003eBecause of its compact structure, JWT is usually used in HTTP Authorization headers or URL query parameters.\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cp\u003e\u003cstrong\u003eHow to use JWT authentication approach in Laravel applications?\u003c/strong\u003e\u003c!--more--\u003e\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cp\u003eJWT (Json Web token) to make token based authentication system in Laravel. if we implement everything of jwt authentication system, it’s hard and takes long time. so we decided to use “tymon/jwt-auth” package to integarte quickly to develop jwt authentication system.\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cp\u003etymon/jwt-auth: \u003ca href=\"https://github.com/tymondesigns/jwt-auth\"\u003ehttps://github.com/tymondesigns/jwt-auth\u003c/a\u003e\u003cbr /\u003etymon/jwt-auth document: \u003ca href=\"https://jwt-auth.readthedocs.io/en/develop/\"\u003ehttps://jwt-auth.readthedocs.io/en/develop/\u003c/a\u003e\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cpre class=\"wp-block-code\"\u003e\u003ccode\u003ecomposer require tymon/jwt-auth\u003c/code\u003e\u003c/pre\u003e\r\n\r\n\r\n\r\n\u003cp\u003e\u003ca href=\"https://jwt-auth.readthedocs.io/en/develop/laravel-installation/\" rel=\"nofollow\"\u003ehttps://jwt-auth.readthedocs.io/en/develop/laravel-installation/\u003c/a\u003e\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cp\u003e\u003cstrong\u003ePublish the config\u003c/strong\u003e\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cpre class=\"wp-block-code\"\u003e\u003ccode\u003ephp artisan vendor:publish --provider=\"Tymon\\JWTAuth\\Providers\\LaravelServiceProvider\"\u003c/code\u003e\u003c/pre\u003e\r\n\r\n\r\n\r\n\u003cp\u003eYou should now have a config/jwt.php file that allows you to configure the basics of this package.\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cp\u003e\u0026nbsp;\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cp\u003e\u003cstrong\u003eGenerate secret key\u003c/strong\u003e\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cp\u003eI have included a helper command to generate a key for you:\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cpre class=\"wp-block-code\"\u003e\u003ccode\u003ephp artisan jwt:secret\r\n\u003c/code\u003e\u003c/pre\u003e\r\n\r\n\r\n\r\n\u003cp\u003e\u003cstrong\u003eUpdate your User model\u003c/strong\u003e\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cpre class=\"wp-block-code\"\u003e\u003ccode\u003e\u0026lt;?php\r\n\r\nnamespace App;\r\n\r\nuse Tymon\\JWTAuth\\Contracts\\JWTSubject;\r\nuse Illuminate\\Notifications\\Notifiable;\r\nuse Illuminate\\Foundation\\Auth\\User as Authenticatable;\r\n\r\nclass User extends Authenticatable implements JWTSubject\r\n{\r\n    use Notifiable;\r\n\r\n    // Rest omitted for brevity\r\n\r\n    /**\r\n     * Get the identifier that will be stored in the subject claim of the JWT.\r\n     *\r\n     * @return mixed\r\n     */\r\n    public function getJWTIdentifier()\r\n    {\r\n        return $this-\u0026gt;getKey();\r\n    }\r\n\r\n    /**\r\n     * Return a key value array, containing any custom claims to be added to the JWT.\r\n     *\r\n     * @return array\r\n     */\r\n    public function getJWTCustomClaims()\r\n    {\r\n        return [];\r\n    }\r\n}\u003c/code\u003e\u003c/pre\u003e\r\n\r\n\r\n\r\n\u003cp\u003e\u003cstrong\u003eConfigure Auth guard\u003c/strong\u003e\u003cbr /\u003einside the config/auth.php file, update the following details\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cpre class=\"wp-block-code\"\u003e\u003ccode\u003e'defaults' =\u0026gt; [\r\n    'guard' =\u0026gt; 'api',\r\n    'passwords' =\u0026gt; 'users',\r\n],\r\n\r\n...\r\n\r\n'guards' =\u0026gt; [\r\n    'api' =\u0026gt; [\r\n        'driver' =\u0026gt; 'jwt',\r\n        'provider' =\u0026gt; 'users',\r\n    ],\r\n],\r\n\u003c/code\u003e\u003c/pre\u003e\r\n\r\n\r\n\r\n\u003cp\u003e\u003cstrong\u003eAdd authentication routes\u003c/strong\u003e\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cp\u003eFirst let\u0026#8217;s add some routes in routes/api.php as follows:\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cpre class=\"wp-block-code\"\u003e\u003ccode\u003e// Jwt Authentication\r\nRoute::post('register', [JwtAuthController::class, 'register'])-\u0026gt;name('api.jwt.register');\r\nRoute::post('login', [JwtAuthController::class, 'login'])-\u0026gt;name('api.jwt.login');\r\n\r\nRoute::group(['middleware' =\u0026gt; 'auth:api'], function(){\r\n    Route::get('user', [JwtAuthController::class, 'me'])-\u0026gt;name('api.jwt.user');\r\n    Route::get('refresh', [JwtAuthController::class, 'refresh'])-\u0026gt;name('api.jwt.refresh');\r\n    Route::get('logout', [JwtAuthController::class, 'logout'])-\u0026gt;name('api.jwt.logout');\r\n});\r\n\u003c/code\u003e\u003c/pre\u003e\r\n\r\n\r\n\r\n\u003cp\u003eCreate the JwtAuthController:\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cpre class=\"wp-block-code\"\u003e\u003ccode\u003ephp artisan make:controller JwtAuthController\r\n\u003c/code\u003e\u003c/pre\u003e\r\n\r\n\r\n\r\n\u003cp\u003eThen add the following:\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cpre class=\"wp-block-code\"\u003e\u003ccode\u003e\r\n\r\nnamespace App\\Http\\Controllers\\Auth;\r\n\r\nuse App\\Models\\User;\r\nuse Illuminate\\Http\\Request;\r\nuse App\\Http\\Controllers\\Controller;\r\nuse Illuminate\\Support\\Facades\\Auth;\r\n\r\nclass JwtAuthController extends Controller\r\n{\r\n    /**\r\n     * Create a new AuthController instance.\r\n     *\r\n     * @return void\r\n     */\r\n    public function __construct()\r\n    {\r\n        $this-\u0026gt;middleware('auth:api', ['except' =\u0026gt; ['login', 'register']]);\r\n    }\r\n\r\n    public function register(Request $request)\r\n    {\r\n        $validated = $request-\u0026gt;validate([\r\n            'name' =\u0026gt; 'required|string|max:100',\r\n            'email' =\u0026gt; 'required|email|max:255|unique:users',\r\n            'password' =\u0026gt; 'required|string|min:8|max:255|confirmed',\r\n            'password_confirmation' =\u0026gt; 'required|string|min:8|max:255',\r\n        ]);\r\n\r\n        $user = new User;\r\n        $user-\u0026gt;fill($request-\u0026gt;all());\r\n        $user-\u0026gt;password = bcrypt($request-\u0026gt;password);\r\n        $user-\u0026gt;save();\r\n\r\n        return response()-\u0026gt;json([\r\n            'status' =\u0026gt; 'success',\r\n            'data' =\u0026gt; $user\r\n        ], 200);\r\n    }\r\n\r\n    /**\r\n     * Get a JWT via given credentials.\r\n     *\r\n     * @return \\Illuminate\\Http\\JsonResponse\r\n     */\r\n    public function login()\r\n    {\r\n        $credentials = request(['email', 'password']);\r\n\r\n        if (!$token = Auth::attempt($credentials)) {\r\n            return response()-\u0026gt;json(['error' =\u0026gt; 'Unauthorized'], 401);\r\n        }\r\n\r\n        return $this-\u0026gt;respondWithToken($token);\r\n    }\r\n\r\n    /**\r\n     * Get the authenticated User.\r\n     *\r\n     * @return \\Illuminate\\Http\\JsonResponse\r\n     */\r\n    public function me()\r\n    {\r\n        return response()-\u0026gt;json(Auth::user());\r\n    }\r\n\r\n    /**\r\n     * Log the user out (Invalidate the token).\r\n     *\r\n     * @return \\Illuminate\\Http\\JsonResponse\r\n     */\r\n    public function logout()\r\n    {\r\n        Auth::logout();\r\n\r\n        return response()-\u0026gt;json(['message' =\u0026gt; 'Successfully logged out']);\r\n    }\r\n\r\n    /**\r\n     * Refresh a token.\r\n     *\r\n     * @return \\Illuminate\\Http\\JsonResponse\r\n     */\r\n    public function refresh()\r\n    {\r\n        return $this-\u0026gt;respondWithToken(Auth::refresh());\r\n    }\r\n\r\n    /**\r\n     * Get the token array structure.\r\n     *\r\n     * @param  string $token\r\n     *\r\n     * @return \\Illuminate\\Http\\JsonResponse\r\n     */\r\n    protected function respondWithToken($token)\r\n    {\r\n        return response()-\u0026gt;json([\r\n            'access_token' =\u0026gt; $token,\r\n            'token_type' =\u0026gt; 'bearer',\r\n            'expires_in' =\u0026gt; Auth::factory()-\u0026gt;getTTL() * 60\r\n        ]);\r\n    }\r\n}\u003c/code\u003e\u003c/pre\u003e\r\n\r\n\r\n\r\n\u003cp\u003eYou should now be able to POST to the login endpoint (e.g. \u003ca href=\"http://example.dev/auth/login\" rel=\"nofollow\"\u003ehttp://example.dev/auth/login\u003c/a\u003e) with some valid credentials and see a response like:\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cp\u003e\u0026nbsp;\u003c/p\u003e\r\n\r\n\r\n\r\n\u003cpre class=\"wp-block-code\"\u003e\u003ccode\u003e{\r\n    \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\",\r\n    \"token_type\": \"bearer\",\r\n    \"expires_in\": 3600\r\n}\u003c/code\u003e\u003c/pre\u003e\r\n\r\n\r\n\r\n\u003cp\u003eThis token can then be used to make authenticated requests to your application.\u003c/p\u003e\r\n","protected":false},"excerpt":{"rendered":"\u003cp\u003eJWT installation \u0026amp; Settings Before we get into this JSON Web Token tutorial, what exactly is a JWT?In modern web trends, Popularity of single page applications, mobile applications, and RESTful API services, We are no longer spending much time building markup, instead we are building APIs that our front-end applications consume.Back-end is more about business \u0026hellip; \u003ca href=\"https://niyazjamal.wordpress.com/2021/06/12/how-to-install-and-configure-jwt-json-web-token-in-laravel-applications/\" class=\"more-link\"\u003eContinue reading \u003cspan class=\"screen-reader-text\"\u003eHow to install and configure JWT (Json Web Token) in Laravel\u0026nbsp;Applications\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n","protected":false},"author":8415137,"featured_media":1177,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"advanced_seo_description":"","_coblocks_attr":"","_coblocks_dimensions":"","_coblocks_responsive_height":"","_coblocks_accordion_ie_support":"","spay_email":"","jetpack_anchor_podcast":"","jetpack_anchor_episode":"","jetpack_anchor_spotify_show":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false,"jetpack_publicize_feature_enabled":true},"categories":[86504237],"tags":[719861641,96192961],"jetpack-related-posts":[{"id":724,"url":"https://niyazjamal.wordpress.com/2014/11/15/understanding-laravel-framework/","url_meta":{"origin":1175,"position":0},"title":"Understanding Laravel Framework","date":"15/11/2014","format":false,"excerpt":"Based on developers survey, Laravel is listed as the most popular PHP framework , designed for the development of model–view–controller (MVC) web applications. Best and fast growing PHP framework. Which has lot of functionalities, best framework for low and high end application development. The current version of laravel is 4.2.11…","rel":"","context":"In \"Laravel\"","img":{"alt_text":"","src":"https://niyazjamal.files.wordpress.com/2014/11/laravel.jpg?w=350\u0026h=200\u0026crop=1","width":350,"height":200},"classes":[]},{"id":914,"url":"https://niyazjamal.wordpress.com/2019/04/18/laravel-queues-1/","url_meta":{"origin":1175,"position":1},"title":"LARAVEL QUEUES \u0026#8211;\u0026nbsp;1","date":"18/04/2019","format":false,"excerpt":"we’ll create a simple app that demonstrates how to use Laravel Queues. We will cover database, redis queue drivers in this episode. Queues are useful for taking jobs, pieces of asynchronous work, and sending them to be performed by some other process. This is especially useful when making time-consuming API…","rel":"","context":"In \"Laravel\"","img":{"alt_text":"","src":"https://niyazjamal.files.wordpress.com/2019/04/laravel-queues.png?w=350\u0026h=200\u0026crop=1","width":350,"height":200},"classes":[]},{"id":838,"url":"https://niyazjamal.wordpress.com/2018/08/01/web-development-technologies-you-can-learn-in-2018/","url_meta":{"origin":1175,"position":2},"title":"Web development technologies you can learn in\u0026nbsp;2018","date":"01/08/2018","format":false,"excerpt":"For many, the path goes through learning fundamentals like HTML, CSS and Javascript. After mastering the basics many aspiring engineers will dive deeper into object oriented Javascript, ES6, Angular, Node, React.js, Vue.js and more. We can build anything with javascript. But In this post I’d like to offer up some…","rel":"","context":"In \"JavaScript\"","img":{"alt_text":"","src":"https://niyazjamal.files.wordpress.com/2018/08/1_tfl-8wquenetyljx5mywua.png?w=350\u0026h=200\u0026crop=1","width":350,"height":200},"classes":[]},{"id":1098,"url":"https://niyazjamal.wordpress.com/2021/03/11/alpine-js-a-tiny-javascript-framework/","url_meta":{"origin":1175,"position":3},"title":"Alpine.js, a tiny JavaScript\u0026nbsp;framework","date":"11/03/2021","format":false,"excerpt":"Today i'm writing about the new minimal js library Alpine.js, A rugged, minimal framework for composing JavaScript behaviours in the Html markup. Think of it like Tailwind for JavaScript. Alpine.js is a tiny JavaScript framework that makes declarative rendering super easy, without the weight of larger frameworks like Vue or…","rel":"","context":"In \"JavaScript\"","img":{"alt_text":"","src":"https://niyazjamal.files.wordpress.com/2021/03/alpinejs.jpg?w=350\u0026h=200\u0026crop=1","width":350,"height":200},"classes":[]},{"id":894,"url":"https://niyazjamal.wordpress.com/2019/03/12/laravel-eager-loading-load-vs-with/","url_meta":{"origin":1175,"position":4},"title":"Laravel Eager Loading \u0026#8211; load() Vs.\u0026nbsp;with()","date":"12/03/2019","format":false,"excerpt":"with() vs load() Both accomplish the same end results—eager loading a related model onto the first. In fact, they both run exactly the same two queries. The key difference is that with() eager loads the related model up front, immediately after the initial query (all(), first(), or find(x), for example);…","rel":"","context":"In \"Laravel\"","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":1225,"url":"https://niyazjamal.wordpress.com/2022/01/28/how-to-fix-docker-error-loading-config-file/","url_meta":{"origin":1175,"position":5},"title":"How to fix docker error loading config\u0026nbsp;file","date":"28/01/2022","format":false,"excerpt":"What are the causes for docker error loading config file? As we discussed earlier, the config.json file in docker stores the unencrypted credentials. Thus during docker installation, while we use docker CLI using sudo before adding the user to the docker group, we might encounter an error message, telling that…","rel":"","context":"In \"Servers\"","img":{"alt_text":"","src":"https://niyazjamal.files.wordpress.com/2022/01/docker-cloud-twitter-card.png?w=350\u0026h=200\u0026crop=1","width":350,"height":200},"classes":[]}],"jetpack_featured_media_url":"https://niyazjamal.files.wordpress.com/2021/06/laravel-and-jwt.jpeg","jetpack_publicize_connections":[],"jetpack_shortlink":"https://wp.me/pz0ND-iX","jetpack_sharing_enabled":true,"jetpack_likes_enabled":true,"amp_validity":null,"amp_enabled":true,"_links":{"self":[{"href":"https://public-api.wordpress.com/wp/v2/sites/niyazjamal.wordpress.com/posts/1175"}],"collection":[{"href":"https://public-api.wordpress.com/wp/v2/sites/niyazjamal.wordpress.com/posts"}],"about":[{"href":"https://public-api.wordpress.com/wp/v2/sites/niyazjamal.wordpress.com/types/post"}],"author":[{"embeddable":true,"href":"https://public-api.wordpress.com/wp/v2/sites/niyazjamal.wordpress.com/users/8415137"}],"replies":[{"embeddable":true,"href":"https://public-api.wordpress.com/wp/v2/sites/niyazjamal.wordpress.com/comments?post=1175"}],"version-history":[{"count":14,"href":"https://public-api.wordpress.com/wp/v2/sites/niyazjamal.wordpress.com/posts/1175/revisions"}],"predecessor-version":[{"id":1224,"href":"https://public-api.wordpress.com/wp/v2/sites/niyazjamal.wordpress.com/posts/1175/revisions/1224"}],"wp:featuredmedia":[{"embeddable":true,"href":"https://public-api.wordpress.com/wp/v2/sites/niyazjamal.wordpress.com/media/1177"}],"wp:attachment":[{"href":"https://public-api.wordpress.com/wp/v2/sites/niyazjamal.wordpress.com/media?parent=1175"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https://public-api.wordpress.com/wp/v2/sites/niyazjamal.wordpress.com/categories?post=1175"},{"taxonomy":"post_tag","embeddable":true,"href":"https://public-api.wordpress.com/wp/v2/sites/niyazjamal.wordpress.com/tags?post=1175"}],"curies":[{"name":"wp","href":"https://api.w.org/{rel}","templated":true}]}}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"how-to-install-and-configure-jwt-json-web-token-in-laravel-applications"},"buildId":"U9grU8kNXM6wVsv1cgWsq","assetPrefix":"/niyaz","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/niyaz/_next/static/chunks/polyfills-a4510369d9bbb73c2546.js"></script><script src="/niyaz/_next/static/chunks/main-ec6f1b548a5c207fd946.js" async=""></script><script src="/niyaz/_next/static/chunks/webpack-ccf5ab034a524403276a.js" async=""></script><script src="/niyaz/_next/static/chunks/framework.085e84bea8b122ad7b41.js" async=""></script><script src="/niyaz/_next/static/chunks/682c571a523b1f552da445b2e05c927df41dc84e.9bf6778f51b271f9baac.js" async=""></script><script src="/niyaz/_next/static/chunks/99ce5ded03d7686e4bf70ff5f951df53c1ed333a.1d56a11eb08b9b553b17.js" async=""></script><script src="/niyaz/_next/static/chunks/pages/_app-b420f73cf4e97c2f0796.js" async=""></script><script src="/niyaz/_next/static/chunks/75fc9c18.34f1da525fc96d3281d7.js" async=""></script><script src="/niyaz/_next/static/chunks/d09f71c2771447e62661a7b2e7969c57ce47c1dd.40e0de61c108b1495845.js" async=""></script><script src="/niyaz/_next/static/chunks/pages/blog/%5Bslug%5D-614423cbab52a8b39602.js" async=""></script><script src="/niyaz/_next/static/U9grU8kNXM6wVsv1cgWsq/_buildManifest.js" async=""></script><script src="/niyaz/_next/static/U9grU8kNXM6wVsv1cgWsq/_ssgManifest.js" async=""></script></body></html>